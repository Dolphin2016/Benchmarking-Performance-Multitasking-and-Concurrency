// Validating benchmarks:
// ***** BenchmarkRunner: Start   *****
// ***** Found 2 benchmark(s) in total *****
// ***** Building 1 exe(s) in Parallel: Start   *****
// start dotnet  restore /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 /p:Deterministic=true /p:Optimize=true in D:\PROJECTS\C_SHARP_PROJECTS\APPS AND SERVICES .NET 7\Chapter04\Benchmarking\bin\Release\net8.0\c7367887-9e9d-4466-ba50-0826f881f461
// command took 2.15s and exited with 0
// start dotnet  build -c Release --no-restore /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 /p:Deterministic=true /p:Optimize=true in D:\PROJECTS\C_SHARP_PROJECTS\APPS AND SERVICES .NET 7\Chapter04\Benchmarking\bin\Release\net8.0\c7367887-9e9d-4466-ba50-0826f881f461
// command took 16.72s and exited with 1
// start dotnet  build -c Release --no-restore --no-dependencies /p:UseSharedCompilation=false /p:BuildInParallel=false /m:1 /p:Deterministic=true /p:Optimize=true in D:\PROJECTS\C_SHARP_PROJECTS\APPS AND SERVICES .NET 7\Chapter04\Benchmarking\bin\Release\net8.0\c7367887-9e9d-4466-ba50-0826f881f461
// command took 7.08s and exited with 0
// ***** Done, took 00:00:26 (26.11 sec)   *****
// Found 2 benchmarks:
//   StringBenchmarks.StringConcatenationTest: DefaultJob
//   StringBenchmarks.StringBuilderTest: DefaultJob

Setup power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: High performance)
// **************************
// Benchmark: StringBenchmarks.StringConcatenationTest: DefaultJob
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet c7367887-9e9d-4466-ba50-0826f881f461.dll --anonymousPipes 1468 1616 --benchmarkName Benchmarking.StringBenchmarks.StringConcatenationTest --job Default --benchmarkId 0 in D:\PROJECTS\C_SHARP_PROJECTS\APPS AND SERVICES .NET 7\Chapter04\Benchmarking\bin\Release\net8.0\c7367887-9e9d-4466-ba50-0826f881f461\bin\Release\net8.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 8.0.0 (8.0.23.17408), X64 RyuJIT AVX2
// GC=Concurrent Workstation
// HardwareIntrinsics=AVX2,AES,BMI1,BMI2,FMA,LZCNT,PCLMUL,POPCNT VectorSize=256
// Job: DefaultJob

OverheadJitting  1: 1 op, 376700.00 ns, 376.7000 us/op
WorkloadJitting  1: 1 op, 464500.00 ns, 464.5000 us/op

OverheadJitting  2: 16 op, 718000.00 ns, 44.8750 us/op
WorkloadJitting  2: 16 op, 781900.00 ns, 48.8687 us/op

WorkloadPilot    1: 16 op, 38800.00 ns, 2.4250 us/op
WorkloadPilot    2: 32 op, 49200.00 ns, 1.5375 us/op
WorkloadPilot    3: 64 op, 95800.00 ns, 1.4969 us/op
WorkloadPilot    4: 128 op, 209600.00 ns, 1.6375 us/op
WorkloadPilot    5: 256 op, 334600.00 ns, 1.3070 us/op
WorkloadPilot    6: 512 op, 662500.00 ns, 1.2939 us/op
WorkloadPilot    7: 1024 op, 1108700.00 ns, 1.0827 us/op
WorkloadPilot    8: 2048 op, 2263200.00 ns, 1.1051 us/op
WorkloadPilot    9: 4096 op, 3307000.00 ns, 807.3730 ns/op
WorkloadPilot   10: 8192 op, 7228000.00 ns, 882.3242 ns/op
WorkloadPilot   11: 16384 op, 13046200.00 ns, 796.2769 ns/op
WorkloadPilot   12: 32768 op, 25375400.00 ns, 774.3958 ns/op
WorkloadPilot   13: 65536 op, 50951900.00 ns, 777.4643 ns/op
WorkloadPilot   14: 131072 op, 95112800.00 ns, 725.6531 ns/op
WorkloadPilot   15: 262144 op, 130226900.00 ns, 496.7762 ns/op
WorkloadPilot   16: 524288 op, 252226400.00 ns, 481.0837 ns/op
WorkloadPilot   17: 1048576 op, 502474300.00 ns, 479.1968 ns/op

OverheadWarmup   1: 1048576 op, 4177800.00 ns, 3.9843 ns/op
OverheadWarmup   2: 1048576 op, 4133300.00 ns, 3.9418 ns/op
OverheadWarmup   3: 1048576 op, 4160500.00 ns, 3.9678 ns/op
OverheadWarmup   4: 1048576 op, 4181400.00 ns, 3.9877 ns/op
OverheadWarmup   5: 1048576 op, 4400100.00 ns, 4.1963 ns/op
OverheadWarmup   6: 1048576 op, 4163900.00 ns, 3.9710 ns/op
OverheadWarmup   7: 1048576 op, 4175800.00 ns, 3.9824 ns/op
OverheadWarmup   8: 1048576 op, 4173400.00 ns, 3.9801 ns/op

OverheadActual   1: 1048576 op, 4247900.00 ns, 4.0511 ns/op
OverheadActual   2: 1048576 op, 4315500.00 ns, 4.1156 ns/op
OverheadActual   3: 1048576 op, 4191900.00 ns, 3.9977 ns/op
OverheadActual   4: 1048576 op, 4192600.00 ns, 3.9984 ns/op
OverheadActual   5: 1048576 op, 4235000.00 ns, 4.0388 ns/op
OverheadActual   6: 1048576 op, 4142900.00 ns, 3.9510 ns/op
OverheadActual   7: 1048576 op, 4155400.00 ns, 3.9629 ns/op
OverheadActual   8: 1048576 op, 4222900.00 ns, 4.0273 ns/op
OverheadActual   9: 1048576 op, 4153100.00 ns, 3.9607 ns/op
OverheadActual  10: 1048576 op, 4295600.00 ns, 4.0966 ns/op
OverheadActual  11: 1048576 op, 4305900.00 ns, 4.1064 ns/op
OverheadActual  12: 1048576 op, 4207000.00 ns, 4.0121 ns/op
OverheadActual  13: 1048576 op, 4151900.00 ns, 3.9596 ns/op
OverheadActual  14: 1048576 op, 4406800.00 ns, 4.2027 ns/op
OverheadActual  15: 1048576 op, 4150400.00 ns, 3.9581 ns/op

WorkloadWarmup   1: 1048576 op, 486387400.00 ns, 463.8552 ns/op
WorkloadWarmup   2: 1048576 op, 475660900.00 ns, 453.6256 ns/op
WorkloadWarmup   3: 1048576 op, 491153400.00 ns, 468.4004 ns/op
WorkloadWarmup   4: 1048576 op, 485151400.00 ns, 462.6764 ns/op
WorkloadWarmup   5: 1048576 op, 473789800.00 ns, 451.8412 ns/op
WorkloadWarmup   6: 1048576 op, 478648600.00 ns, 456.4749 ns/op
WorkloadWarmup   7: 1048576 op, 470486300.00 ns, 448.6907 ns/op

// BeforeActualRun
WorkloadActual   1: 1048576 op, 477683400.00 ns, 455.5544 ns/op
WorkloadActual   2: 1048576 op, 474788500.00 ns, 452.7936 ns/op
WorkloadActual   3: 1048576 op, 473296200.00 ns, 451.3704 ns/op
WorkloadActual   4: 1048576 op, 471251100.00 ns, 449.4201 ns/op
WorkloadActual   5: 1048576 op, 479353200.00 ns, 457.1468 ns/op
WorkloadActual   6: 1048576 op, 470043700.00 ns, 448.2686 ns/op
WorkloadActual   7: 1048576 op, 472020100.00 ns, 450.1534 ns/op
WorkloadActual   8: 1048576 op, 478011700.00 ns, 455.8675 ns/op
WorkloadActual   9: 1048576 op, 473175700.00 ns, 451.2555 ns/op
WorkloadActual  10: 1048576 op, 472807400.00 ns, 450.9043 ns/op
WorkloadActual  11: 1048576 op, 468562600.00 ns, 446.8561 ns/op
WorkloadActual  12: 1048576 op, 484144600.00 ns, 461.7163 ns/op
WorkloadActual  13: 1048576 op, 510908100.00 ns, 487.2399 ns/op
WorkloadActual  14: 1048576 op, 554183900.00 ns, 528.5110 ns/op
WorkloadActual  15: 1048576 op, 511748300.00 ns, 488.0412 ns/op

// AfterActualRun
WorkloadResult   1: 1048576 op, 473476400.00 ns, 451.5423 ns/op
WorkloadResult   2: 1048576 op, 470581500.00 ns, 448.7815 ns/op
WorkloadResult   3: 1048576 op, 469089200.00 ns, 447.3583 ns/op
WorkloadResult   4: 1048576 op, 467044100.00 ns, 445.4080 ns/op
WorkloadResult   5: 1048576 op, 475146200.00 ns, 453.1347 ns/op
WorkloadResult   6: 1048576 op, 465836700.00 ns, 444.2565 ns/op
WorkloadResult   7: 1048576 op, 467813100.00 ns, 446.1413 ns/op
WorkloadResult   8: 1048576 op, 473804700.00 ns, 451.8554 ns/op
WorkloadResult   9: 1048576 op, 468968700.00 ns, 447.2434 ns/op
WorkloadResult  10: 1048576 op, 468600400.00 ns, 446.8922 ns/op
WorkloadResult  11: 1048576 op, 464355600.00 ns, 442.8440 ns/op
WorkloadResult  12: 1048576 op, 479937600.00 ns, 457.7042 ns/op

// AfterAll
// Benchmark Process 18068 has exited with code 0.

Mean = 448.597 ns, StdErr = 1.222 ns (0.27%), N = 12, StdDev = 4.235 ns
Min = 442.844 ns, Q1 = 445.958 ns, Median = 447.301 ns, Q3 = 451.621 ns, Max = 457.704 ns
IQR = 5.663 ns, LowerFence = 437.464 ns, UpperFence = 460.114 ns
ConfidenceInterval = [443.173 ns; 454.021 ns] (CI 99.9%), Margin = 5.424 ns (1.21% of Mean)
Skewness = 0.64, Kurtosis = 2.36, MValue = 2

// ** Remained 1 (50.0%) benchmark(s) to run. Estimated finish 2023-05-06 14:05 (0h 0m from now) **
Setup power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: High performance)
// **************************
// Benchmark: StringBenchmarks.StringBuilderTest: DefaultJob
// *** Execute ***
// Launch: 1 / 1
// Execute: dotnet c7367887-9e9d-4466-ba50-0826f881f461.dll --anonymousPipes 796 1440 --benchmarkName Benchmarking.StringBenchmarks.StringBuilderTest --job Default --benchmarkId 1 in D:\PROJECTS\C_SHARP_PROJECTS\APPS AND SERVICES .NET 7\Chapter04\Benchmarking\bin\Release\net8.0\c7367887-9e9d-4466-ba50-0826f881f461\bin\Release\net8.0
// BeforeAnythingElse

// Benchmark Process Environment Information:
// Runtime=.NET 8.0.0 (8.0.23.17408), X64 RyuJIT AVX2
// GC=Concurrent Workstation
// HardwareIntrinsics=AVX2,AES,BMI1,BMI2,FMA,LZCNT,PCLMUL,POPCNT VectorSize=256
// Job: DefaultJob

OverheadJitting  1: 1 op, 362000.00 ns, 362.0000 us/op
WorkloadJitting  1: 1 op, 397000.00 ns, 397.0000 us/op

OverheadJitting  2: 16 op, 929600.00 ns, 58.1000 us/op
WorkloadJitting  2: 16 op, 724700.00 ns, 45.2938 us/op

WorkloadPilot    1: 16 op, 19800.00 ns, 1.2375 us/op
WorkloadPilot    2: 32 op, 26000.00 ns, 812.5000 ns/op
WorkloadPilot    3: 64 op, 51000.00 ns, 796.8750 ns/op
WorkloadPilot    4: 128 op, 104500.00 ns, 816.4062 ns/op
WorkloadPilot    5: 256 op, 204100.00 ns, 797.2656 ns/op
WorkloadPilot    6: 512 op, 372800.00 ns, 728.1250 ns/op
WorkloadPilot    7: 1024 op, 703100.00 ns, 686.6211 ns/op
WorkloadPilot    8: 2048 op, 1393700.00 ns, 680.5176 ns/op
WorkloadPilot    9: 4096 op, 2807500.00 ns, 685.4248 ns/op
WorkloadPilot   10: 8192 op, 4872000.00 ns, 594.7266 ns/op
WorkloadPilot   11: 16384 op, 8935700.00 ns, 545.3918 ns/op
WorkloadPilot   12: 32768 op, 18151500.00 ns, 553.9398 ns/op
WorkloadPilot   13: 65536 op, 35465100.00 ns, 541.1545 ns/op
WorkloadPilot   14: 131072 op, 66051100.00 ns, 503.9299 ns/op
WorkloadPilot   15: 262144 op, 98251900.00 ns, 374.8013 ns/op
WorkloadPilot   16: 524288 op, 178663800.00 ns, 340.7742 ns/op
WorkloadPilot   17: 1048576 op, 388561000.00 ns, 370.5606 ns/op
WorkloadPilot   18: 2097152 op, 748534800.00 ns, 356.9292 ns/op

OverheadWarmup   1: 2097152 op, 7947100.00 ns, 3.7895 ns/op
OverheadWarmup   2: 2097152 op, 8191400.00 ns, 3.9060 ns/op
OverheadWarmup   3: 2097152 op, 8042600.00 ns, 3.8350 ns/op
OverheadWarmup   4: 2097152 op, 8183500.00 ns, 3.9022 ns/op
OverheadWarmup   5: 2097152 op, 7995400.00 ns, 3.8125 ns/op

OverheadActual   1: 2097152 op, 8254700.00 ns, 3.9361 ns/op
OverheadActual   2: 2097152 op, 8367700.00 ns, 3.9900 ns/op
OverheadActual   3: 2097152 op, 8156300.00 ns, 3.8892 ns/op
OverheadActual   4: 2097152 op, 8100100.00 ns, 3.8624 ns/op
OverheadActual   5: 2097152 op, 8164900.00 ns, 3.8933 ns/op
OverheadActual   6: 2097152 op, 8232900.00 ns, 3.9258 ns/op
OverheadActual   7: 2097152 op, 8337700.00 ns, 3.9757 ns/op
OverheadActual   8: 2097152 op, 8191100.00 ns, 3.9058 ns/op
OverheadActual   9: 2097152 op, 8242900.00 ns, 3.9305 ns/op
OverheadActual  10: 2097152 op, 8323700.00 ns, 3.9690 ns/op
OverheadActual  11: 2097152 op, 8104400.00 ns, 3.8645 ns/op
OverheadActual  12: 2097152 op, 8250800.00 ns, 3.9343 ns/op
OverheadActual  13: 2097152 op, 8165500.00 ns, 3.8936 ns/op
OverheadActual  14: 2097152 op, 8256300.00 ns, 3.9369 ns/op
OverheadActual  15: 2097152 op, 8214600.00 ns, 3.9170 ns/op

WorkloadWarmup   1: 2097152 op, 711167700.00 ns, 339.1112 ns/op
WorkloadWarmup   2: 2097152 op, 703658400.00 ns, 335.5305 ns/op
WorkloadWarmup   3: 2097152 op, 698520100.00 ns, 333.0803 ns/op
WorkloadWarmup   4: 2097152 op, 711751200.00 ns, 339.3894 ns/op
WorkloadWarmup   5: 2097152 op, 711723300.00 ns, 339.3761 ns/op
WorkloadWarmup   6: 2097152 op, 700978400.00 ns, 334.2525 ns/op
WorkloadWarmup   7: 2097152 op, 706131900.00 ns, 336.7099 ns/op
WorkloadWarmup   8: 2097152 op, 706118800.00 ns, 336.7037 ns/op

// BeforeActualRun
WorkloadActual   1: 2097152 op, 698177400.00 ns, 332.9169 ns/op
WorkloadActual   2: 2097152 op, 709254600.00 ns, 338.1989 ns/op
WorkloadActual   3: 2097152 op, 709532900.00 ns, 338.3317 ns/op
WorkloadActual   4: 2097152 op, 712581500.00 ns, 339.7853 ns/op
WorkloadActual   5: 2097152 op, 708397600.00 ns, 337.7903 ns/op
WorkloadActual   6: 2097152 op, 712316500.00 ns, 339.6590 ns/op
WorkloadActual   7: 2097152 op, 715178500.00 ns, 341.0237 ns/op
WorkloadActual   8: 2097152 op, 711169900.00 ns, 339.1122 ns/op
WorkloadActual   9: 2097152 op, 705651100.00 ns, 336.4807 ns/op
WorkloadActual  10: 2097152 op, 702212700.00 ns, 334.8411 ns/op
WorkloadActual  11: 2097152 op, 707338100.00 ns, 337.2851 ns/op
WorkloadActual  12: 2097152 op, 707504900.00 ns, 337.3646 ns/op
WorkloadActual  13: 2097152 op, 700061700.00 ns, 333.8154 ns/op
WorkloadActual  14: 2097152 op, 713349700.00 ns, 340.1516 ns/op
WorkloadActual  15: 2097152 op, 703417000.00 ns, 335.4154 ns/op

// AfterActualRun
WorkloadResult   1: 2097152 op, 689944500.00 ns, 328.9912 ns/op
WorkloadResult   2: 2097152 op, 701021700.00 ns, 334.2732 ns/op
WorkloadResult   3: 2097152 op, 701300000.00 ns, 334.4059 ns/op
WorkloadResult   4: 2097152 op, 704348600.00 ns, 335.8596 ns/op
WorkloadResult   5: 2097152 op, 700164700.00 ns, 333.8645 ns/op
WorkloadResult   6: 2097152 op, 704083600.00 ns, 335.7332 ns/op
WorkloadResult   7: 2097152 op, 706945600.00 ns, 337.0979 ns/op
WorkloadResult   8: 2097152 op, 702937000.00 ns, 335.1865 ns/op
WorkloadResult   9: 2097152 op, 697418200.00 ns, 332.5549 ns/op
WorkloadResult  10: 2097152 op, 693979800.00 ns, 330.9154 ns/op
WorkloadResult  11: 2097152 op, 699105200.00 ns, 333.3593 ns/op
WorkloadResult  12: 2097152 op, 699272000.00 ns, 333.4389 ns/op
WorkloadResult  13: 2097152 op, 691828800.00 ns, 329.8897 ns/op
WorkloadResult  14: 2097152 op, 705116800.00 ns, 336.2259 ns/op
WorkloadResult  15: 2097152 op, 695184100.00 ns, 331.4896 ns/op

// AfterAll
// Benchmark Process 18728 has exited with code 0.

Mean = 333.552 ns, StdErr = 0.618 ns (0.19%), N = 15, StdDev = 2.395 ns
Min = 328.991 ns, Q1 = 332.022 ns, Median = 333.865 ns, Q3 = 335.460 ns, Max = 337.098 ns
IQR = 3.438 ns, LowerFence = 326.866 ns, UpperFence = 340.616 ns
ConfidenceInterval = [330.992 ns; 336.113 ns] (CI 99.9%), Margin = 2.560 ns (0.77% of Mean)
Skewness = -0.39, Kurtosis = 1.92, MValue = 2

// ** Remained 0 (0.0%) benchmark(s) to run. Estimated finish 2023-05-06 14:05 (0h 0m from now) **
Successfully reverted power plan (GUID: 8c5e7fda-e8bf-4a96-9a85-a6e23a8c635c FriendlyName: High performance)
// ***** BenchmarkRunner: Finish  *****

// * Export *
  BenchmarkDotNet.Artifacts\results\Benchmarking.StringBenchmarks-report.csv
  BenchmarkDotNet.Artifacts\results\Benchmarking.StringBenchmarks-report-github.md
  BenchmarkDotNet.Artifacts\results\Benchmarking.StringBenchmarks-report.html

// * Detailed results *
StringBenchmarks.StringConcatenationTest: DefaultJob
Runtime = .NET 8.0.0 (8.0.23.17408), X64 RyuJIT AVX2; GC = Concurrent Workstation
Mean = 448.597 ns, StdErr = 1.222 ns (0.27%), N = 12, StdDev = 4.235 ns
Min = 442.844 ns, Q1 = 445.958 ns, Median = 447.301 ns, Q3 = 451.621 ns, Max = 457.704 ns
IQR = 5.663 ns, LowerFence = 437.464 ns, UpperFence = 460.114 ns
ConfidenceInterval = [443.173 ns; 454.021 ns] (CI 99.9%), Margin = 5.424 ns (1.21% of Mean)
Skewness = 0.64, Kurtosis = 2.36, MValue = 2
-------------------- Histogram --------------------
[440.416 ns ; 449.552 ns) | @@@@@@@@
[449.552 ns ; 460.132 ns) | @@@@
---------------------------------------------------

StringBenchmarks.StringBuilderTest: DefaultJob
Runtime = .NET 8.0.0 (8.0.23.17408), X64 RyuJIT AVX2; GC = Concurrent Workstation
Mean = 333.552 ns, StdErr = 0.618 ns (0.19%), N = 15, StdDev = 2.395 ns
Min = 328.991 ns, Q1 = 332.022 ns, Median = 333.865 ns, Q3 = 335.460 ns, Max = 337.098 ns
IQR = 3.438 ns, LowerFence = 326.866 ns, UpperFence = 340.616 ns
ConfidenceInterval = [330.992 ns; 336.113 ns] (CI 99.9%), Margin = 2.560 ns (0.77% of Mean)
Skewness = -0.39, Kurtosis = 1.92, MValue = 2
-------------------- Histogram --------------------
[327.717 ns ; 337.956 ns) | @@@@@@@@@@@@@@@
---------------------------------------------------

// * Summary *

BenchmarkDotNet=v0.13.5, OS=Windows 10 (10.0.19045.2846/22H2/2022Update)
Intel Core i5-4670 CPU 3.40GHz (Haswell), 1 CPU, 4 logical and 4 physical cores
.NET SDK=8.0.100-preview.3.23178.7
  [Host]     : .NET 8.0.0 (8.0.23.17408), X64 RyuJIT AVX2
  DefaultJob : .NET 8.0.0 (8.0.23.17408), X64 RyuJIT AVX2


|                  Method |     Mean |   Error |  StdDev | Ratio |
|------------------------ |---------:|--------:|--------:|------:|
| StringConcatenationTest | 448.6 ns | 5.42 ns | 4.23 ns |  1.00 |
|       StringBuilderTest | 333.6 ns | 2.56 ns | 2.39 ns |  0.74 |

// * Hints *
Outliers
  StringBenchmarks.StringConcatenationTest: Default -> 3 outliers were removed (487.24 ns..528.51 ns)

// * Legends *
  Mean   : Arithmetic mean of all measurements
  Error  : Half of 99.9% confidence interval
  StdDev : Standard deviation of all measurements
  Ratio  : Mean of the ratio distribution ([Current]/[Baseline])
  1 ns   : 1 Nanosecond (0.000000001 sec)

// ***** BenchmarkRunner: End *****
Run time: 00:00:30 (30.82 sec), executed benchmarks: 2

Global total time: 00:00:57 (57.32 sec), executed benchmarks: 2
// * Artifacts cleanup *
